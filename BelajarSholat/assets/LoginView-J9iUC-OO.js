import{E as y,ai as w,aj as _,z as o,H as b,I as l,j as a,V as c,K as d,ak as k,al as x,am as j,an as C,M as U,ao as p,ah as h,ag as M,ap as B,N,aq as R}from"./index-awyd5qkD.js";import{V as q}from"./VContainer-CHmS4UVr.js";const F="/belajarsholat/logo.png",L={class:"flex flex-col gap-2"},z=y({__name:"LoginView",setup(P){const f=B(),v=w(),g=_(),u=o(""),r=o(""),i=o(!1),n=o(!1),m=o(!1),V=o([e=>e?!0:"Mohon masukan username"]),I=o([e=>e?!0:"Mohon masukan password"]);async function S(){if(m.value){n.value=!0;try{const e=await R(u.value,r.value);localStorage.setItem("token",e.token),localStorage.setItem("username",e.username),localStorage.setItem("name",e.name),localStorage.setItem("divisionId",e.divisionId.toString()),localStorage.setItem("professionId",e.professionId.toString()),localStorage.setItem("paviliunId",e.paviliunId.toString()),localStorage.setItem("dokterId",e.dokterId.toString()),g.initUser(),f.replace("/")}catch(e){e instanceof Error&&v.showMessage(e.message)}finally{n.value=!1}}}return(e,t)=>(N(),b(q,null,{default:l(()=>[a(d,{align:"center",justify:"center"},{default:l(()=>[a(c,{cols:"12",sm:"6",md:"5",lg:"4",xl:"3"},{default:l(()=>[a(d,{justify:"center"},{default:l(()=>[a(c,{cols:"4",md:"5"},{default:l(()=>[a(k,{src:F,"aspect-ratio":"1"},{placeholder:l(()=>[a(d,{class:"fill-height ma-0",align:"center",justify:"center"},{default:l(()=>[a(x,{indeterminate:"",color:"grey lighten-5"})]),_:1})]),_:1})]),_:1})]),_:1}),a(d,null,{default:l(()=>[a(c,null,{default:l(()=>[a(j,{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=s=>m.value=s),"fast-fail":"",onSubmit:C(S,["prevent"])},{default:l(()=>[U("div",L,[a(p,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),rules:V.value,disabled:n.value,label:"Username",variant:"outlined",required:"",color:"primary"},null,8,["modelValue","rules","disabled"]),a(p,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=s=>r.value=s),rules:I.value,value:r.value,"append-inner-icon":i.value?"mdi-eye":"mdi-eye-off",type:i.value?"text":"password",disabled:n.value,label:"Password",variant:"outlined",required:"",compact:"",color:"primary","onClick:appendInner":t[2]||(t[2]=s=>i.value=!i.value)},null,8,["modelValue","rules","value","append-inner-icon","type","disabled"]),a(h,{type:"submit",block:"",color:"primary",disabled:n.value||u.value==""&&r.value=="",large:"",variant:"elevated"},{default:l(()=>t[4]||(t[4]=[M(" Login ")])),_:1},8,["disabled"])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{z as default};
